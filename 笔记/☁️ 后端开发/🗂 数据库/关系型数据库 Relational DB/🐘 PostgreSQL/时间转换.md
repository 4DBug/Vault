## 类型转换

### timestamp 转换为 UNIX 时间戳

```sql
SELECT EXTRACT(EPOCH FROM CURRENT_TIMESTAMP::timestamp) AS unix_timestamp;
```

#### 切除 UNIX 时间戳的毫秒部分

```sql
SELECT CEIL(EXTRACT(EPOCH FROM CURRENT_TIMESTAMP::timestamp)) AS unix_timestamp;
```

### UNIX 时间戳转换为 timestamp

```sql
SELECT TO_TIMESTAMP(EXTRACT(EPOCH FROM CURRENT_TIMESTAMP)) AS timestamp;
```

#### 切除 timestamp 的毫秒部分

```sql
SELECT DATE_TRUNC('second', TO_TIMESTAMP(EXTRACT(EPOCH FROM CURRENT_TIMESTAMP))) AS timestamp;
```

## 时区转换

### 偏移时区

```sql
SELECT CURRENT_TIMESTAMP::timestamp AT TIME ZONE 'UTC+08' AS now_china_timstamp
```

### 指定时区

```sql
SELECT CURRENT_TIMESTAMP::timestamp AT TIME ZONE 'Asia/Shanghai' AS now_china_timstamp
```